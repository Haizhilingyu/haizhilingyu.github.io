`.cursorrules` 是一个存放在项目根目录的特殊文件，用于自定义 Cursor 中的 AI 辅助规则。通过在这个文件中定义具体的规则，您可以为 AI 提供项目背景、编码标准、首选库、文件结构和性能指南等指示，从而使 AI 的代码生成和建议更加符合您的团队需求。

简单来说，`.cursorrules` 是您与 AI 之间的"沟通桥梁"。有了它，您不必每次都手动调整 AI 的行为，AI 将始终在您的项目需求范围内提供建议。


![1fcb4f5670e8dfd016e383b80d7dea66md5](https://github.com/user-attachments/assets/f90124e8-61d4-48cb-9fd8-c86f1c1967e0)

## 如何为项目创建最佳的 .cursorrules？

要充分利用 `.cursorrules` 文件，您需要将项目的各个关键部分清楚地传达给 AI。以下是一些创建高效 `.cursorrules` 文件的最佳做法：

### **1\. 提供项目背景**

> **为什么重要？**  
> AI 不了解项目的背景，而背景信息可以帮助 AI 理解项目的上下文，生成更合适的代码。

**示例：**

```markdown
# 项目背景 这是一个基于 Nextjs 的支持多语言的博客 Web 应用程序，使用 Nextjs 框架编写。
```

**解释：**

在 `.cursorrules` 文件的开头，您可以提供一个简要的项目背景介绍。像“这是一个基于 Nextjs 的博客 Web 应用程序” 这样的描述可以让 AI 在生成代码时，选择适合的语法风格、文件类型和方法。

### **2\. 定义编码标准**

> **为什么重要？**  
> 确保 AI 生成的代码符合团队的代码规范，避免不一致的编码风格。

**示例：**

```markdown
# 编码标准 - 使用函数式组件和 Hooks，避免类组件 - 变量声明优先使用 const，而不是 let - 变量和函数名使用 camelCase 规范，组件名使用 PascalCase
```

**解释：**

这段代码告诉 AI，团队更喜欢函数式组件，而不是类组件。AI 还会优先使用 `const` 声明变量，并在函数和变量命名中遵循 camelCase 规范，而组件名称采用 PascalCase。

### **3\. 指定首选的库和框架**

> **为什么重要？**  
> 如果 AI 不了解您首选的库，它可能会生成不适合的第三方依赖项。

**示例：**

```markdown
# 首选的库 - 使用 Next.js 进行导航 - 使用 next-intl 做国际化 - 使用 tailwind 进行 CSS-in-JS 样式设计
```

**解释：**

这告诉 AI 在生成导航代码时优先使用 Next.js，而不是其他库（例如 React Router 路由系统）。对于样式，AI 会默认选择 `tailwind`，而不是 CSS 模块或其他 CSS 解决方案。

### **4\. 提供文件结构信息**

> **为什么重要？**  
> 清晰的文件结构可帮助 AI 生成的文件路径和导入路径更准确，减少路径错误。

**示例：**

```plaintext
# 文件结构 - components: 可复用的 UI 组件 - app/[locale]: 支持多语言的 nextjs 页面 - data/blog: 多语言的博客文件 - app/api: API 服务函数
```

**解释：**

告诉 AI 文件的目录结构有助于自动生成 `import` 路径。例如，当您要求 AI 创建一个新组件时，它会将其放入 `src/components` 目录，而不会错误地将其放入 `src/pages` 中。

### **5\. 设置性能优化指南**

> **为什么重要？**  
> 如果您不告诉 AI 关注性能，它可能会生成不符合性能最佳实践的代码。

**示例：**

```markdown
# 性能优化指南 - 对纯函数组件使用 React.memo - 路由组件实现懒加载 - 优化 useEffect 依赖，防止不必要的重新渲染
```

**解释：**

这些规则可帮助 AI 生成更高效的代码。例如，当 AI 生成 `useEffect` 钩子时，它会确保依赖项数组是完整的，从而防止不必要的重新渲染。

### **6\. 设定测试要求**

> **为什么重要？**  
> 如果您有特定的测试需求，AI 可以帮助您自动生成符合这些标准的测试用例。

**示例：**

```plaintext
# 测试要求 - 使用 Jest 和 React Testing Library 编写单元测试 - 测试覆盖率应至少达到 80% - 对 UI 组件使用快照测试 (Snapshot Testing)
```

**解释：**  
这段规则告诉 AI 在生成测试文件时使用 Jest 和 React Testing Library，还会自动生成快照测试 (Snapshot Testing) 以捕获 UI 变化。

### **7\. 编写文档规范**

> **为什么重要？**  
> 规范的文档有助于团队协作，并确保 AI 生成的代码自带注释和解释。

**示例：**

```plaintext
# 文档规范 - 使用 JSDoc 格式编写函数和组件的注释 - 组件必须包含 PropTypes 验证 - 每个主要目录必须包含 README.md 文件 - 同时提供英语和中文版本的 README.md 文件
```

**解释：**

使用 JSDoc 规则可确保 AI 自动生成的函数和组件包含函数定义、参数说明和返回类型的注释。

### **8\. 设置错误处理偏好**

> **为什么重要？**  
> AI 可能不会自动考虑错误处理逻辑。

**示例：**

```markdown
# 错误处理 - 使用 try/catch 块处理异步操作 - 实现全局错误边界组件
```

**解释：**

这些规则告诉 AI 在生成异步函数时，自动在内部使用 `try/catch` 块。AI 还可能在项目中实现一个全局的“错误边界”组件，以捕获运行时错误。

## 如何在项目中使用 .cursorrules？

1.  **创建文件：** 在项目根目录创建 `.cursorrules` 文件。
2.  **定义规则：** 按照上文的建议，定义项目背景、编码标准和文件结构等规则。
3.  **重启 Cursor：** 在 Cursor 中，重启 AI 助手以加载新的 .cursorrules 文件。
4.  **实时调整：** 当项目需求发生变化时，及时更新 .cursorrules 文件。

## 如何利用“AI 规则”实现全局控制？

除了项目的 `.cursorrules` 文件，您还可以在 Cursor 的“设置 > 通用 > AI 规则”中编写适用于所有项目的全局 AI 规则。这些规则将自动应用于每个项目，无需手动为每个项目创建 .cursorrules 文件。

## 总结：您的 Cursor 从未如此聪明

通过在项目中创建 `.cursorrules` 文件，您可以为 AI 提供清晰的指示，从而使 AI 生成的代码更符合您的项目需求。

有了这些技巧，您不仅可以加快开发速度，还能确保代码质量始终保持高标准。

希望这篇指南能帮助您充分发挥 Cursor 和 .cursorrules 的潜力！


原文地址：https://www.ifb.me/zh/blog/zh/ai/cursorrules-zhong-ji